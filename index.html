<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ–Ω—å –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        html, body {
            overflow: hidden;
            height: 100%;
        }
        
        body {
            background: linear-gradient(135deg, #ffafbd, #ffc3a0);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 20px;
            overflow: hidden;
        }
        
        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏ —Ñ–æ–Ω–∞ */
        .heart {
            position: absolute;
            color: rgba(255, 105, 180, 0.3);
            font-size: 20px;
            animation: float 8s infinite linear;
            z-index: 0;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞-–æ—Ç–∫—Ä—ã—Ç–∫–∞ */
        .valentine-card {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            padding: 40px;
            text-align: center;
            z-index: 100;
            cursor: pointer;
            transition: all 0.5s ease;
            overflow: hidden;
            border: 10px solid #ff4d8d;
            animation: cardAppear 1s ease-out;
            overflow-y: auto;
        }
        
        .valentine-card:hover {
            transform: translate(-50%, -50%) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        
        .valentine-card:active {
            transform: translate(-50%, -50%) scale(0.98);
        }
        
        @keyframes cardAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5) rotate(-10deg);
            }
            70% {
                transform: translate(-50%, -50%) scale(1.05) rotate(5deg);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
        }
        
        .card-heart {
            font-size: 5rem;
            color: #ff3366;
            margin-bottom: 20px;
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.2); }
            10% { transform: scale(1.1); }
            15% { transform: scale(1.2); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        
        .card-title {
            color: #ff4d8d;
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .card-subtitle {
            color: #ff3366;
            font-size: 1.6rem;
            font-weight: 500;
            line-height: 1.5;
            margin-top: 10px;
        }
        
        .card-instruction {
            margin-top: 30px;
            font-size: 1.4rem;
            color: #ff6b9d;
            font-style: italic;
            animation: pulseText 2s infinite;
        }
        
        @keyframes pulseText {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        .card-envelope {
            position: absolute;
            top: -20px;
            right: -20px;
            width: 80px;
            height: 80px;
            background: #ff4d8d;
            transform: rotate(45deg);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2rem;
        }
        
        .card-envelope:before {
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
            width: 0;
            height: 0;
            border-left: 40px solid transparent;
            border-right: 40px solid transparent;
            border-bottom: 40px solid #ff4d8d;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≤–æ–ø—Ä–æ—Å–æ–º */
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            padding: 50px 40px;
            text-align: center;
            max-width: 800px;
            width: 100%;
            position: relative;
            z-index: 1;
            overflow: hidden;
            border: 8px solid #ff4d8d;
            transition: all 0.5s ease;
            opacity: 0;
            transform: translateY(30px);
            pointer-events: none;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .container.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
            animation: fadeIn 1s ease-out;
        }
        
        .title {
            color: #ff4d8d;
            font-size: 3.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            display: inline-block;
        }
        
        .title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 10%;
            width: 80%;
            height: 3px;
            background: linear-gradient(to right, transparent, #ff4d8d, transparent);
        }
        
        .question {
            color: #ff3366;
            font-size: 2.8rem;
            margin: 40px 0;
            font-weight: 700;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            transition: all 0.5s ease;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 50px;
            flex-wrap: wrap;
            position: relative;
            transition: all 0.5s ease;
        }
        
        .btn {
            border: none;
            border-radius: 50px;
            font-size: 1.8rem;
            font-weight: bold;
            padding: 20px 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            min-width: 180px;
            z-index: 2;
        }
        
        .yes-btn {
            background: linear-gradient(45deg, #ff3366, #ff6b9d);
            color: white;
        }
        
        .yes-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 20px rgba(255, 51, 102, 0.3);
            background: linear-gradient(45deg, #ff1a55, #ff4d8d);
        }
        
        .yes-btn:active {
            transform: translateY(-2px);
        }
        
        .no-btn {
            background: linear-gradient(45deg, #4a4a4a, #7a7a7a);
            color: white;
            position: relative;
            transition: all 0.1s ease;
        }
        
        .no-btn:hover {
            background: linear-gradient(45deg, #3a3a3a, #6a6a6a);
        }
        
        /* –ú–∏–Ω–∏-–∏–≥—Ä–∞ */
        .game-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
            padding: 0 10px;
        }
        
        .game-stats {
            background: linear-gradient(45deg, #ff3366, #ff6b9d);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .game-area {
            width: 100%;
            height: 400px;
            border-radius: 20px;
            background: linear-gradient(135deg, #fff0f5, #ffe4ec);
            border: 3px dashed #ff4d8d;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .game-heart {
            position: absolute;
            cursor: pointer;
            transition: transform 0.2s ease;
            user-select: none;
        }
        
        .game-heart:hover {
            transform: scale(1.1);
        }
        
        .game-heart:active {
            transform: scale(0.9);
        }
        
        .game-instruction {
            color: #ff3366;
            font-size: 1.8rem;
            font-weight: bold;
            margin-top: 20px;
            text-align: center;
            max-width: 600px;
            line-height: 1.5;
        }
        
        /* –û–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ - –£–í–ï–õ–ò–ß–ï–ù–û –ò –ü–ï–†–ï–†–ê–ë–û–¢–ê–ù–û */
        .game-result {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            min-height: 600px;
            height: auto;

            top: 0;
            left: 0;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px;
            z-index: 20;
            padding: 50px 40px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }
        
        .result-title {
            color: #ff3366;
            font-size: 3.5rem;
            margin-bottom: 30px;
            text-align: center;
            line-height: 1.2;
        }
        
        .result-score-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #fff0f5, #ffe4ec);
            border-radius: 20px;
            border: 3px dashed #ff4d8d;
            width: 100%;
            max-width: 500px;
        }
        
        .result-score-label {
            font-size: 2.2rem;
            color: #ff3366;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .result-score {
            font-size: 5rem;
            color: #ff3366;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .result-message {
            font-size: 2.2rem;
            color: #ff3366;
            margin: 30px 0;
            text-align: center;
            max-width: 600px;
            line-height: 1.5;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .play-again-btn {
            background: linear-gradient(45deg, #ff3366, #ff6b9d);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 2rem;
            font-weight: bold;
            padding: 22px 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            z-index: 21;
            position: relative;
            min-width: 250px;
        }
        
        .play-again-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(255, 51, 102, 0.4);
            background: linear-gradient(45deg, #ff1a55, #ff4d8d);
        }
        
        .play-again-btn:active {
            transform: translateY(-2px);
        }
        
        .result-hearts {
            margin: 20px 0;
            font-size: 3rem;
            color: #ff4d8d;
        }
        
        .final-love-message {
            font-size: 2.5rem;
            color: #ff3366;
            margin-top: 30px;
            font-weight: bold;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.5s;
            text-align: center;
            line-height: 1.5;
        }
        
        .final-love-message.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–î–∞" */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ff3366;
            border-radius: 50%;
            opacity: 0;
            z-index: 3;
        }
        
        .heart-pop {
            position: absolute;
            color: #ff3366;
            font-size: 30px;
            opacity: 0;
            z-index: 3;
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 51, 102, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 20px rgba(255, 51, 102, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 51, 102, 0);
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É "–î–∞" */
        .celebrate {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 4;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .valentine-card {
                max-width: 90%;
                padding: 30px;
            }
            
            .card-title {
                font-size: 2.2rem;
            }
            
            .card-subtitle {
                font-size: 1.4rem;
            }
            
            .card-heart {
                font-size: 4rem;
            }
            
            .title {
                font-size: 2.5rem;
            }
            
            .question {
                font-size: 2.2rem;
            }
            
            .btn {
                font-size: 1.5rem;
                padding: 18px 40px;
                min-width: 150px;
            }
            
            .game-area {
                height: 350px;
            }
            
            .game-stats {
                font-size: 1.3rem;
                padding: 12px 20px;
            }
            
            .game-instruction {
                font-size: 1.5rem;
            }
            
            .game-result {
                min-height: 500px;
                padding: 40px 30px;
            }
            
            .result-title {
                font-size: 2.8rem;
                margin-bottom: 25px;
            }
            
            .result-score-container {
                padding: 20px;
                margin: 20px 0;
            }
            
            .result-score-label {
                font-size: 1.8rem;
            }
            
            .result-score {
                font-size: 4rem;
            }
            
            .result-message {
                font-size: 1.8rem;
                margin: 25px 0;
                padding: 15px;
            }
            
            .play-again-btn {
                font-size: 1.8rem;
                padding: 20px 40px;
                min-width: 220px;
                margin-top: 25px;
            }
            
            .final-love-message {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .valentine-card {
                padding: 25px 20px;
            }
            
            .card-title {
                font-size: 1.8rem;
            }
            
            .card-subtitle {
                font-size: 1.2rem;
            }
            
            .card-heart {
                font-size: 3.5rem;
            }
            
            .card-envelope {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
                top: -15px;
                right: -15px;
            }
            
            .container {
                padding: 30px 20px;
            }
            
            .title {
                font-size: 2rem;
            }
            
            .question {
                font-size: 1.8rem;
                margin: 30px 0;
            }
            
            .buttons {
                gap: 15px;
                margin-top: 30px;
            }
            
            .btn {
                font-size: 1.3rem;
                padding: 15px 25px;
                min-width: 120px;
            }
            
            .game-area {
                height: 280px;
            }
            
            .game-header {
                flex-direction: column;
                gap: 10px;
                align-items: center;
                margin-bottom: 15px;
            }
            
            .game-stats {
                font-size: 1.1rem;
                padding: 10px 15px;
            }
            
            .game-instruction {
                font-size: 1.2rem;
                margin-top: 15px;
            }
            
            .game-result {
                min-height: 450px;
                padding: 30px 20px;
            }
            
            .result-title {
                font-size: 2.2rem;
                margin-bottom: 20px;
            }
            
            .result-score-container {
                padding: 15px;
                margin: 15px 0;
            }
            
            .result-score-label {
                font-size: 1.5rem;
            }
            
            .result-score {
                font-size: 3.5rem;
            }
            
            .result-message {
                font-size: 1.5rem;
                margin: 20px 0;
                padding: 12px;
            }
            
            .play-again-btn {
                font-size: 1.5rem;
                padding: 18px 30px;
                min-width: 200px;
                margin-top: 20px;
            }
            
            .final-love-message {
                font-size: 1.6rem;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ –≤ –∏–≥—Ä–µ */
        @keyframes heartAppear {
            0% {
                transform: scale(0) rotate(0deg);
            }
            70% {
                transform: scale(1.1) rotate(5deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ */
        @keyframes heartDisappear {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(1.5) rotate(10deg);
                opacity: 0;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞ */
        @keyframes timerPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 51, 102, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(255, 51, 102, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 51, 102, 0);
            }
        }
        
        .timer-warning {
            animation: timerPulse 1s infinite;
        }
    </style>
</head>
<body>
    <!-- –§–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏ -->
    <div id="hearts-container"></div>
    
    <!-- –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞-–æ—Ç–∫—Ä—ã—Ç–∫–∞ -->
    <div class="valentine-card" id="valentineCard">
        <div class="card-envelope">
            <i class="fas fa-heart"></i>
        </div>
        <div class="card-heart">‚ù§Ô∏è</div>
        <h1 class="card-title">–ü—Ä–∏–≤–µ—Ç –ø—É–ø—É–Ω—è, —è —Ç–≤–æ—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞</h1>
        <p class="card-subtitle">–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞</p>
        <div class="card-instruction">üíå –Ø –æ—á–µ–Ω—å —Å—Ç–∞—Ä–∞–ª—Å—è üíå</div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container" id="mainContainer">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω —Å –≤–æ–ø—Ä–æ—Å–æ–º -->
        <div id="mainScreen">
            <h1 class="title">‚ù§Ô∏è –Ø —Ç–µ–±—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é –∏ –ø—Ä–∏–¥—É–º–∞–ª –¥–ª—è —Ç–µ–±—è –∏–≥—Ä—É ‚ù§Ô∏è</h1>
            <p class="question">–°—ã–≥—Ä–∞–µ—à—å?</p>
            
            <div class="buttons">
                <button class="btn yes-btn pulse" id="yesBtn">–î–∞</button>
                <button class="btn no-btn" id="noBtn">–ù–µ—Ç</button>
            </div>
            
            <div class="final-love-message" id="finalLoveMessage">  ‚ù§Ô∏è</div>
        </div>
        
        <!-- –ú–∏–Ω–∏-–∏–≥—Ä–∞ -->
        <div class="game-container" id="gameContainer">
            <div class="game-header">
                <div class="game-stats">
                    <i class="fas fa-heart"></i>
                    <span id="score">0</span> —Å–µ—Ä–¥–µ—á–µ–∫
                </div>
                <div class="game-stats">
                    <i class="fas fa-clock"></i>
                    <span id="timer">30</span> —Å–µ–∫
                </div>
            </div>
            
            <div class="game-area" id="gameArea">
                <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å–µ—Ä–¥–µ—á–∫–∏ –¥–ª—è –∏–≥—Ä—ã -->
            </div>
            
            <p class="game-instruction">
                –°–æ–±–µ—Ä–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ —Å–µ—Ä–¥–µ—á–µ–∫ –∑–∞ 30 —Å–µ–∫—É–Ω–¥!<br>
                –ö–ª–∏–∫–∞–π –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–∏, —á—Ç–æ–±—ã —Å–æ–±–∏—Ä–∞—Ç—å –∏—Ö. –£–¥–∞—á–∏ –∏ –¥–æ –≤–µ—á–µ—Ä–∞!
            </p>
        </div>
        
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä—ã - –ü–ï–†–ï–†–ê–ë–û–¢–ê–ù–ù–û–ï –û–ö–ù–û -->
        <div class="game-result" id="gameResult">
            <h2 class="result-title">–û—Ç–ª–∏—á–Ω–∞—è –∏–≥—Ä–∞! üéâ</h2>
            
            <div class="result-score-container">
                <div class="result-score-label">–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</div>
                <div class="result-score">
                    <span id="finalScore">0</span> ‚ù§Ô∏è
                </div>
                <div class="result-hearts" id="resultHearts"></div>
            </div>
            
            <p class="result-message" id="resultMessage"></p>
            
            <button class="play-again-btn" id="playAgainBtn">
                <i class="fas fa-redo"></i> –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
            </button>
        </div>
        
        <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è -->
        <div class="celebrate" id="celebrateArea"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
            const heartsContainer = document.getElementById('hearts-container');
            const valentineCard = document.getElementById('valentineCard');
            const mainContainer = document.getElementById('mainContainer');
            const yesBtn = document.getElementById('yesBtn');
            const noBtn = document.getElementById('noBtn');
            const finalLoveMessage = document.getElementById('finalLoveMessage');
            const celebrateArea = document.getElementById('celebrateArea');
            const container = document.querySelector('.container');
            const mainScreen = document.getElementById('mainScreen');
            const gameContainer = document.getElementById('gameContainer');
            const gameArea = document.getElementById('gameArea');
            const gameResult = document.getElementById('gameResult');
            const scoreElement = document.getElementById('score');
            const timerElement = document.getElementById('timer');
            const finalScoreElement = document.getElementById('finalScore');
            const resultMessageElement = document.getElementById('resultMessage');
            const resultHeartsElement = document.getElementById('resultHearts');
            const playAgainBtn = document.getElementById('playAgainBtn');
            
            // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
            let score = 0;
            let timeLeft = 30;
            let gameActive = false;
            let gameTimer;
            let heartInterval;
            let hearts = [];
            
            // –°–æ–∑–¥–∞–µ–º —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
            createBackgroundHearts();
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–µ
            valentineCard.addEventListener('click', function() {
                // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
                valentineCard.style.animation = 'cardAppear 0.7s ease-out reverse';
                valentineCard.style.opacity = '0';
                valentineCard.style.transform = 'translate(-50%, -50%) scale(0.5) rotate(10deg)';
                valentineCard.style.pointerEvents = 'none';
                
                // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç —Ä–∞–∑–ª–µ—Ç–∞—é—â–∏—Ö—Å—è —Å–µ—Ä–¥–µ—á–µ–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
                createValentineEffect();
                
                // –ß–µ—Ä–µ–∑ 0.7 —Å–µ–∫—É–Ω–¥—ã —Å–∫—Ä—ã–≤–∞–µ–º –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                setTimeout(() => {
                    valentineCard.style.display = 'none';
                    mainContainer.classList.add('active');
                    
                    // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                    createOpeningEffect();
                }, 700);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É
            valentineCard.addEventListener('mouseenter', function() {
                // –°–æ–∑–¥–∞–µ–º –Ω–µ–±–æ–ª—å—à–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ –≤–æ–∫—Ä—É–≥ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
                createHoverHearts();
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–µ—Ç" - —É–±–µ–≥–∞–µ—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
            noBtn.addEventListener('mouseover', function(e) {
                moveButton(noBtn);
            });
            
            // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ - –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏
            noBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                moveButton(noBtn);
            });
            
            // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ - –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –Ω–∞–∂–∞—Ç—å
            noBtn.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    moveButton(noBtn);
                }
            });
            
            // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–ù–µ—Ç"
            function moveButton(button) {
                const containerRect = container.getBoundingClientRect();
                const buttonRect = button.getBoundingClientRect();
                
                // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                const maxX = containerRect.width - buttonRect.width - 40;
                const maxY = containerRect.height - buttonRect.height - 40;
                
                // –°–ª—É—á–∞–π–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                const randomX = Math.random() * maxX;
                const randomY = Math.random() * maxY;
                
                // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É
                button.style.position = 'absolute';
                button.style.left = randomX + 'px';
                button.style.top = randomY + 'px';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∞–Ω–∏–º–∞—Ü–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
                button.style.transition = 'left 0.3s ease, top 0.3s ease';
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–î–∞" - –∑–∞–ø—É—Å–∫–∞–µ–º –º–∏–Ω–∏-–∏–≥—Ä—É
            yesBtn.addEventListener('click', function() {
                // –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è
                celebrate();
                createConfetti();
                createHearts();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è
                finalLoveMessage.classList.add('show');
                finalLoveMessage.textContent = "‚ù§Ô∏è";
                
                // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∏–≥—Ä–µ
                setTimeout(() => {
                    // –ü—Ä—è—á–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω
                    mainScreen.style.opacity = '0';
                    mainScreen.style.transform = 'translateY(-20px)';
                    
                    // –ß–µ—Ä–µ–∑ –µ—â–µ 0.5 —Å–µ–∫—É–Ω–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–≥—Ä—É
                    setTimeout(() => {
                        mainScreen.style.display = 'none';
                        gameContainer.style.display = 'flex';
                        
                        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É
                        startGame();
                    }, 500);
                }, 2000);
            });
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—á–µ–∫
            function createBackgroundHearts() {
                for (let i = 0; i < 25; i++) {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    heart.style.animationDelay = Math.random() * 5 + 's';
                    heart.style.animationDuration = (Math.random() * 5 + 8) + 's';
                    heartsContainer.appendChild(heart);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
            function createValentineEffect() {
                const cardRect = valentineCard.getBoundingClientRect();
                const centerX = cardRect.left + cardRect.width / 2;
                const centerY = cardRect.top + cardRect.height / 2;
                
                // –°–æ–∑–¥–∞–µ–º 20 —Å–µ—Ä–¥–µ—á–µ–∫, —Ä–∞–∑–ª–µ—Ç–∞—é—â–∏—Ö—Å—è –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
                for (let i = 0; i < 20; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.position = 'fixed';
                    heart.style.left = `${centerX}px`;
                    heart.style.top = `${centerY}px`;
                    heart.style.fontSize = `${Math.random() * 25 + 20}px`;
                    heart.style.color = ['#ff3366', '#ff4d8d', '#ff6b9d'][Math.floor(Math.random() * 3)];
                    heart.style.zIndex = '99';
                    heart.style.pointerEvents = 'none';
                    
                    document.body.appendChild(heart);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–ª–µ—Ç–∞
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 100 + Math.random() * 200;
                    const duration = 800 + Math.random() * 800;
                    
                    heart.animate([
                        { 
                            transform: 'translate(0, 0) scale(1) rotate(0deg)', 
                            opacity: 1 
                        },
                        { 
                            transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(0.5) rotate(${Math.random() * 360}deg)`, 
                            opacity: 0 
                        }
                    ], {
                        duration: duration,
                        easing: 'ease-out'
                    });
                    
                    // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => heart.remove(), duration);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É
            function createHoverHearts() {
                const cardRect = valentineCard.getBoundingClientRect();
                
                // –°–æ–∑–¥–∞–µ–º 5 –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫ –≤–æ–∫—Ä—É–≥ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
                for (let i = 0; i < 5; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.position = 'fixed';
                    
                    // –†–∞–∑–º–µ—â–∞–µ–º —Å–µ—Ä–¥–µ—á–∫–∏ –≤–æ–∫—Ä—É–≥ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
                    const side = Math.floor(Math.random() * 4);
                    let left, top;
                    
                    switch(side) {
                        case 0: // —Å–≤–µ—Ä—Ö—É
                            left = cardRect.left + Math.random() * cardRect.width;
                            top = cardRect.top - 20;
                            break;
                        case 1: // —Å–ø—Ä–∞–≤–∞
                            left = cardRect.right + 20;
                            top = cardRect.top + Math.random() * cardRect.height;
                            break;
                        case 2: // —Å–Ω–∏–∑—É
                            left = cardRect.left + Math.random() * cardRect.width;
                            top = cardRect.bottom + 20;
                            break;
                        case 3: // —Å–ª–µ–≤–∞
                            left = cardRect.left - 20;
                            top = cardRect.top + Math.random() * cardRect.height;
                            break;
                    }
                    
                    heart.style.left = `${left}px`;
                    heart.style.top = `${top}px`;
                    heart.style.fontSize = `${Math.random() * 15 + 15}px`;
                    heart.style.color = ['#ff3366', '#ff4d8d', '#ff6b9d'][Math.floor(Math.random() * 3)];
                    heart.style.zIndex = '99';
                    heart.style.pointerEvents = 'none';
                    heart.style.opacity = '0.8';
                    
                    document.body.appendChild(heart);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
                    heart.animate([
                        { transform: 'scale(0)', opacity: 0 },
                        { transform: 'scale(1)', opacity: 0.8 },
                        { transform: 'scale(0)', opacity: 0 }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => heart.remove(), 1000);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
            function createOpeningEffect() {
                // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ —Å–µ—Ä–¥–µ—á–µ–∫ –∏–∑ —Ü–µ–Ω—Ç—Ä–∞
                const containerRect = mainContainer.getBoundingClientRect();
                const centerX = containerRect.left + containerRect.width / 2;
                const centerY = containerRect.top + containerRect.height / 2;
                
                for (let i = 0; i < 15; i++) {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.position = 'fixed';
                    heart.style.left = `${centerX}px`;
                    heart.style.top = `${centerY}px`;
                    heart.style.fontSize = `${Math.random() * 30 + 25}px`;
                    heart.style.color = ['#ff3366', '#ff4d8d', '#ff6b9d'][Math.floor(Math.random() * 3)];
                    heart.style.zIndex = '99';
                    heart.style.pointerEvents = 'none';
                    
                    document.body.appendChild(heart);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–ª–µ—Ç–∞
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 50 + Math.random() * 150;
                    const duration = 600 + Math.random() * 600;
                    
                    heart.animate([
                        { 
                            transform: 'translate(0, 0) scale(0)', 
                            opacity: 0 
                        },
                        { 
                            transform: 'translate(0, 0) scale(1.2)', 
                            opacity: 1 
                        },
                        { 
                            transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(0)`, 
                            opacity: 0 
                        }
                    ], {
                        duration: duration,
                        easing: 'ease-out'
                    });
                    
                    // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => heart.remove(), duration);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã
            function startGame() {
                // –°–±—Ä–æ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
                score = 0;
                timeLeft = 30;
                gameActive = true;
                scoreElement.textContent = score;
                timerElement.textContent = timeLeft;
                gameArea.innerHTML = '';
                hearts = [];
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
                gameTimer = setInterval(updateTimer, 1000);
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–µ—Ä–¥–µ—á–µ–∫
                heartInterval = setInterval(createGameHeart, 800);
                
                // –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => createGameHeart(), i * 200);
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ –≤ –∏–≥—Ä–µ
            function createGameHeart() {
                if (!gameActive) return;
                
                const heart = document.createElement('div');
                heart.classList.add('game-heart');
                heart.innerHTML = '‚ù§Ô∏è';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                const size = Math.random() * 50 + 40;
                const color = getRandomHeartColor();
                const x = Math.random() * (gameArea.offsetWidth - size);
                const y = Math.random() * (gameArea.offsetHeight - size);
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                heart.style.fontSize = `${size}px`;
                heart.style.color = color;
                heart.style.left = `${x}px`;
                heart.style.top = `${y}px`;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
                heart.style.animation = 'heartAppear 0.3s ease-out';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
                heart.addEventListener('click', () => collectHeart(heart));
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏–≥—Ä–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å –∏ –º–∞—Å—Å–∏–≤
                gameArea.appendChild(heart);
                hearts.push({
                    element: heart,
                    x: x,
                    y: y,
                    size: size,
                    color: color
                });
                
                // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ —Å–æ–±—Ä–∞–ª–∏
                setTimeout(() => {
                    if (heart.parentNode && gameActive) {
                        removeHeart(heart);
                    }
                }, 5000);
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ —Å–µ—Ä–¥–µ—á–∫–∞
            function collectHeart(heart) {
                if (!gameActive) return;
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç
                score++;
                scoreElement.textContent = score;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
                heart.style.animation = 'heartDisappear 0.3s ease-out';
                
                // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —Å–±–æ—Ä–µ
                createCollectEffect(heart);
                
                // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.remove();
                        
                        // –£–¥–∞–ª—è–µ–º –∏–∑ –º–∞—Å—Å–∏–≤–∞
                        const index = hearts.findIndex(h => h.element === heart);
                        if (index !== -1) {
                            hearts.splice(index, 1);
                        }
                    }
                }, 300);
            }
            
            // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Ä–¥–µ—á–∫–∞ (–µ—Å–ª–∏ –Ω–µ —Å–æ–±—Ä–∞–ª–∏)
            function removeHeart(heart) {
                if (!heart.parentNode) return;
                
                // –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
                heart.style.transition = 'opacity 0.5s ease';
                heart.style.opacity = '0';
                
                // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.remove();
                        
                        // –£–¥–∞–ª—è–µ–º –∏–∑ –º–∞—Å—Å–∏–≤–∞
                        const index = hearts.findIndex(h => h.element === heart);
                        if (index !== -1) {
                            hearts.splice(index, 1);
                        }
                    }
                }, 500);
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—Ä–∏ —Å–±–æ—Ä–µ —Å–µ—Ä–¥–µ—á–∫–∞
            function createCollectEffect(heart) {
                const rect = heart.getBoundingClientRect();
                const gameAreaRect = gameArea.getBoundingClientRect();
                
                // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç +1
                const plusOne = document.createElement('div');
                plusOne.textContent = '+1 ‚ù§Ô∏è';
                plusOne.style.position = 'absolute';
                plusOne.style.left = `${rect.left - gameAreaRect.left + rect.width / 2}px`;
                plusOne.style.top = `${rect.top - gameAreaRect.top}px`;
                plusOne.style.color = '#ff3366';
                plusOne.style.fontSize = '24px';
                plusOne.style.fontWeight = 'bold';
                plusOne.style.pointerEvents = 'none';
                plusOne.style.zIndex = '5';
                
                gameArea.appendChild(plusOne);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞
                plusOne.animate([
                    { transform: 'translateY(0) scale(1)', opacity: 1 },
                    { transform: 'translateY(-50px) scale(1.5)', opacity: 0 }
                ], {
                    duration: 800,
                    easing: 'ease-out'
                });
                
                // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 0.8 —Å–µ–∫—É–Ω–¥
                setTimeout(() => plusOne.remove(), 800);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
            function updateTimer() {
                if (!gameActive) return;
                
                timeLeft--;
                timerElement.textContent = timeLeft;
                
                // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –º–∞–ª–æ–º –≤—Ä–µ–º–µ–Ω–∏
                if (timeLeft <= 10) {
                    timerElement.parentElement.classList.add('timer-warning');
                }
                
                // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
                if (timeLeft <= 0) {
                    endGame();
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã
            function endGame() {
                gameActive = false;
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä—ã
                clearInterval(gameTimer);
                clearInterval(heartInterval);
                
                // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
                timerElement.parentElement.classList.remove('timer-warning');
                
                // –û—á–∏—â–∞–µ–º –∏–≥—Ä–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å
                hearts.forEach(heart => {
                    if (heart.element.parentNode) {
                        heart.element.remove();
                    }
                });
                hearts = [];
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                showResults();
            }
            
            // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            function showResults() {
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—á–µ—Ç
                finalScoreElement.textContent = score;
                
                // –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–¥–µ—á–∫–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—á–∫–æ–≤
                resultHeartsElement.innerHTML = '';
                let heartsToShow = Math.min(score, 20); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–∞–∫—Å–∏–º—É–º 20 —Å–µ—Ä–¥–µ—á–µ–∫
                for (let i = 0; i < heartsToShow; i++) {
                    const heart = document.createElement('span');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.margin = '0 2px';
                    heart.style.fontSize = (i % 3 === 0) ? '2.5rem' : (i % 2 === 0 ? '2rem' : '1.8rem');
                    heart.style.opacity = 0.7 + (i * 0.015);
                    resultHeartsElement.appendChild(heart);
                }
                
                if (score > 20) {
                    const moreHearts = document.createElement('span');
                    moreHearts.innerHTML = `+${score - 20} –±–æ–ª—å—à–µ`;
                    moreHearts.style.fontSize = '1.5rem';
                    moreHearts.style.color = '#ff4d8d';
                    moreHearts.style.marginLeft = '10px';
                    resultHeartsElement.appendChild(moreHearts);
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                let message = '';
                if (score >= 30) {
                    message = '–ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢–≤–æ—è –ª—é–±–æ–≤—å –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞! ‚ù§Ô∏è';
                } else if (score >= 20) {
                    message = '–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –õ—é–±–ª—é —Ç–µ–±—è! üíñ';
                } else if (score >= 10) {
                    message = '–•–æ—Ä–æ—à–æ —Å—ã–≥—Ä–∞–Ω–æ! –õ—é–±–ª—é —Ç–µ–±—è! üíï';
                } else {
                    message = '–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –ö–∞–∂–¥–æ–µ —Å–æ–±—Ä–∞–Ω–Ω–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ - —ç—Ç–æ —á–∞—Å—Ç–∏—á–∫–∞ —Ç–≤–æ–µ–π –ª—é–±–≤–∏! üíù';
                }
                
                resultMessageElement.textContent = message;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ—è–≤–ª–µ–Ω–∏—è
                createResultCelebration();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                setTimeout(() => {
                    gameContainer.style.display = 'none';
                    gameResult.style.display = 'flex';
                }, 1000);
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            function createResultCelebration() {
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                const colors = ['#ff3366', '#ff4d8d', '#ff6b9d', '#ff8ab3', '#ffa8c9'];
                
                for (let i = 0; i < 80; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 12 + 8 + 'px';
                    confetti.style.height = Math.random() * 12 + 8 + 'px';
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    confetti.style.zIndex = '10';
                    
                    gameResult.appendChild(confetti);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                    const animation = confetti.animate([
                        { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                        { transform: `translateY(${gameResult.offsetHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                    ], {
                        duration: Math.random() * 2000 + 2000,
                        delay: Math.random() * 500
                    });
                    
                    // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    animation.onfinish = () => {
                        if (confetti.parentNode) confetti.remove();
                    };
                }
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞"
            playAgainBtn.addEventListener('click', function() {
                // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                gameResult.style.display = 'none';
                
                // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                const confettiElements = gameResult.querySelectorAll('.confetti');
                confettiElements.forEach(confetti => confetti.remove());
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É —Å–Ω–æ–≤–∞
                gameContainer.style.display = 'flex';
                startGame();
            });
            
            // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å–µ—Ä–¥–µ—á–∫–∞
            function getRandomHeartColor() {
                const colors = [
                    '#ff3366', '#ff4d8d', '#ff6b9d', '#ff8ab3', 
                    '#ff1493', '#db7093', '#c71585', '#ff69b4'
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
            function createConfetti() {
                const colors = ['#ff3366', '#ff4d8d', '#ff6b9d', '#ff8ab3', '#ffa8c9'];
                
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = Math.random() * 10 + 5 + 'px';
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    
                    celebrateArea.appendChild(confetti);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                    const animation = confetti.animate([
                        { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                        { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                    ], {
                        duration: Math.random() * 2000 + 2000,
                        delay: Math.random() * 1000
                    });
                    
                    // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    animation.onfinish = () => confetti.remove();
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫
            function createHearts() {
                for (let i = 0; i < 30; i++) {
                    const heart = document.createElement('div');
                    heart.classList.add('heart-pop');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.top = Math.random() * 100 + '%';
                    heart.style.fontSize = Math.random() * 30 + 20 + 'px';
                    heart.style.color = ['#ff3366', '#ff4d8d', '#ff6b9d'][Math.floor(Math.random() * 3)];
                    
                    celebrateArea.appendChild(heart);
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Å–ø–ª—ã–≤–∞–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫
                    const animation = heart.animate([
                        { transform: 'scale(0.5) translateY(0)', opacity: 1 },
                        { transform: 'scale(1.5) translateY(-100px)', opacity: 0 }
                    ], {
                        duration: Math.random() * 1500 + 1500,
                        delay: Math.random() * 1000
                    });
                    
                    // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    animation.onfinish = () => heart.remove();
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è
            function celebrate() {
                // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –º–µ—Ä—Ü–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                container.animate([
                    { boxShadow: '0 15px 35px rgba(0, 0, 0, 0.2)' },
                    { boxShadow: '0 15px 35px rgba(255, 51, 102, 0.5)' },
                    { boxShadow: '0 15px 35px rgba(0, 0, 0, 0.2)' }
                ], {
                    duration: 1000,
                    iterations: 3
                });
            }
        });
    </script>
</body>
</html>
